{"ast":null,"code":"var _jsxFileName = \"/home/eninov/newtech/newtech/src/components/Login.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { PropTypes } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../actions/authActions\";\nimport TextFieldGroup from '@material-ui/core/TextFieldGroup';\nimport Button from '@material-ui/core/Button';\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.auth.isAuthenticated) {\n      nextProps.history.push(\"/dashboard\");\n    }\n\n    if (nextProps.errors) {\n      return {\n        errors: nextProps.errors\n      };\n    }\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    let loadingBtn = document.querySelector(\".loading\");\n    let loadingComp = document.createElement(\"i\");\n    loadingComp.classList = \"fas fa-circle-notch fa-spin\";\n    loadingBtn.innerHTML = \"Login \";\n    loadingBtn.appendChild(loadingComp);\n    const loginData = {\n      email: this.state.email,\n      password: this.state.password\n    };\n    this.props.loginUser(loginData).then(res => {\n      if (res.type === \"GET_ERRORS\") {\n        loadingBtn.innerHTML = \"Login\";\n      }\n    }).catch(err => console.log(err));\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    const errors = this.state.errors;\n    return React.createElement(\"div\", {\n      className: \"login-bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-5 mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card card-primary mt-5 login-refix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Login\")), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(TextFieldGroup, {\n      placeholder: \"Email Address\",\n      label: \"Email\",\n      type: \"email\",\n      value: this.state.email,\n      name: \"email\",\n      onChange: this.onChange,\n      error: errors.email,\n      tabindex: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(TextFieldGroup, {\n      placeholder: \"Password\",\n      label: \"Password\",\n      type: \"password\",\n      value: this.state.password,\n      name: \"password\",\n      onChange: this.onChange,\n      error: errors.password,\n      tabindex: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Forgot password ?\", \" \", React.createElement(Link, {\n      to: \"/forgot-password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"reset\")), React.createElement(\"div\", {\n      className: \"form-group mt-4 mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"submit\",\n      classnameItems: \"btn-primary btn-lg btn-block\",\n      btnName: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"text-muted text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Don't have an account?\", \" \", React.createElement(Link, {\n      to: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Create One\")))), React.createElement(\"div\", {\n      className: \"simple-footer text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Copyright \\xA9 Payeroll 2018\")))))));\n  }\n\n}\n\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  loginUser\n})(Login);","map":{"version":3,"sources":["/home/eninov/newtech/newtech/src/components/Login.js"],"names":["React","Component","Link","PropTypes","connect","loginUser","TextFieldGroup","Button","Login","constructor","state","email","password","errors","onChange","bind","onSubmit","getDerivedStateFromProps","nextProps","prevState","auth","isAuthenticated","history","push","e","preventDefault","loadingBtn","document","querySelector","loadingComp","createElement","classList","innerHTML","appendChild","loginData","props","then","res","type","catch","err","console","log","setState","target","name","value","render","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { PropTypes } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../actions/authActions\";\nimport TextFieldGroup from '@material-ui/core/TextFieldGroup';\nimport Button from '@material-ui/core/Button';\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.auth.isAuthenticated) {\n      nextProps.history.push(\"/dashboard\");\n    }\n    if (nextProps.errors) {\n      return {\n        errors: nextProps.errors\n      };\n    }\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    let loadingBtn = document.querySelector(\".loading\");\n    let loadingComp = document.createElement(\"i\");\n    loadingComp.classList = \"fas fa-circle-notch fa-spin\";\n    loadingBtn.innerHTML = \"Login \";\n    loadingBtn.appendChild(loadingComp);\n\n    const loginData = {\n      email: this.state.email,\n      password: this.state.password\n    };\n\n    this.props\n      .loginUser(loginData)\n      .then(res => {\n        if (res.type === \"GET_ERRORS\") {\n          loadingBtn.innerHTML = \"Login\";\n        }\n      })\n      .catch(err => console.log(err));\n  }\n\n  onChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  render() {\n    const { errors } = this.state;\n\n    return (\n      <div className=\"login-bg\">\n        <div id=\"app\">\n          <section className=\"section\">\n            <div className=\"container\">\n              <div className=\"row justify-content-center\">\n                <div className=\"col-5 mt-5\">\n                  <div className=\"card card-primary mt-5 login-refix\">\n                    <div className=\"card-header justify-content-center\">\n                      <h3>Login</h3>\n                    </div>\n                    <div className=\"card-body\">\n                      <form onSubmit={this.onSubmit}>\n                        <TextFieldGroup\n                          placeholder=\"Email Address\"\n                          label=\"Email\"\n                          type=\"email\"\n                          value={this.state.email}\n                          name=\"email\"\n                          onChange={this.onChange}\n                          error={errors.email}\n                          tabindex=\"1\"\n                        />\n\n                        <TextFieldGroup\n                          placeholder=\"Password\"\n                          label=\"Password\"\n                          type=\"password\"\n                          value={this.state.password}\n                          name=\"password\"\n                          onChange={this.onChange}\n                          error={errors.password}\n                          tabindex=\"1\"\n                        />\n                        <p>\n                          Forgot password ?{\" \"}\n                          <Link to=\"/forgot-password\">reset</Link>\n                        </p>\n                        <div className=\"form-group mt-4 mb-5\">\n                          <Button\n                            type=\"submit\"\n                            classnameItems=\"btn-primary btn-lg btn-block\"\n                            btnName=\"Login\"\n                          />\n                        </div>\n                      </form>\n                    </div>\n                    <div className=\"text-muted text-center\">\n                      <p>\n                        Don't have an account?{\" \"}\n                        <Link to=\"/register\">Create One</Link>\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"simple-footer text-white\">\n                    Copyright &copy; Payeroll 2018\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>\n      </div>\n    );\n  }\n}\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\nexport default connect(\n  mapStateToProps,\n  { loginUser }\n)(Login);"]},"metadata":{},"sourceType":"module"}